////

|metadata|
{
    "name": "xamgrid-customize-groupby-deferred-scrolling-template",
    "controlName": ["xamGrid"],
    "tags": ["Grids","Grouping","Performance"],
    "guid": "{9DFD2377-FC8C-4575-B7F6-5E6C66122B40}",  
    "buildFlags": [],
    "createdOn": "2016-05-25T18:21:56.0452054Z"
}
|metadata|
////

{XamGridHeader}

= GroupBy の遅延スクロール テンプレートのカスタマイズ

== 始める前に

遅延スクロールおよび GroupBy を有効にすると、デフォルトのプレビューは xamGrid コントロールの親の最初の列を表示します。ただし、このプレビューをカスタマイズするために開発者自身のデータ テンプレートを作成することもできます。

このトピックでは以下を前提とします。

* 階層的な xamGrid コントロールをページのデータに既にバインドしてあること。詳細は、 link:xamgrid-data-binding.html[データ バインディング]および link:xamgrid-define-column-layout.html[列レイアウトの定義]のトピックを参照してください。
* 遅延スクロールを有効にしてあります。詳細は、 link:xamgrid-deferred-scrolling.html[遅延スクロール]を参照してください。
* GroupBy を有効にしてあります。詳細については、 link:xamgrid-groupby.html[GroupBy] トピックを参照してください。

== 達成すること

link:{ApiPlatform}controls.grids.xamgrid{ApiVersion}~infragistics.controls.grids.deferredscrollingsettings.html[DeferredScrollingSettings] オブジェクトの link:{ApiPlatform}controls.grids.xamgrid{ApiVersion}~infragistics.controls.grids.deferredscrollingsettings~groupbydeferredscrolltemplate.html[GroupByDeferredScrollTemplate] プロパティをカスタム データ テンプレートに設定することによって、遅延スクロール設定をカスタマイズします。このデータ テンプレートは、グリッドがグループ化される値を表示し、また xamGrid を異なる色でシェードします。

== 次の手順を実行します

[start=1]
. GroupByDeferredScrollTemplate プロパティのタグを xamGrid に追加します

*XAML の場合:*

----
<ig:XamGrid.DeferredScrollingSettings>
<ig:DeferredScrollingSettings AllowDeferredScrolling="Default">                    
  <ig:DeferredScrollingSettings.GroupByDeferredScrollTemplate>
      <!-- DataTemplate を追加します -->                   
  </ig:DeferredScrollingSettings.GroupByDeferredScrollTemplate>
</ig:DeferredScrollingSettings>
</ig:XamGrid.DeferredScrollingSettings>
----

[start=2]
. DataTemplate を作成します。遅延スクロール テンプレートのデータ コンテキストは link:{ApiPlatform}controls.grids.xamgrid{ApiVersion}~infragistics.scrolltipinfo.html[ScrollTipInfo] オブジェクトであるので、このデータ テンプレート内の ScrollTipInfo オブジェクトによって公開される以下のプロパティをバインドできます。

** 行
** FirstColumnValue
** 列

[start=3]
. Grid パネルを DataTemplate に追加します。Rectangle を Grid パネルに追加します。この矩形はシェーディングの外観にするために xamGrid 上に表示されます。以下のプロパティを Rectangle に設定します。

** Fill - Blue
** Opacity - 0.65

*XAML の場合:*

----
<DataTemplate>
   <Grid>
      <Rectangle Fill="Blue"  Opacity="0.65"/>
      <!--StackPanel を追加します -->
   </Grid>
</DataTemplate>
----

[start=4]
. StackPanel コンテナーを Grid パネルに追加します。以下のプロパティを設定します。

** HorizontalAlignment - Center
** VerticalAlignment - Center

*XAML の場合:*

----
<StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
   <!-- TextBlock を追加します -->
</StackPanel>
----

[start=5]
. TextBox コントロールを StackPanel コンテナーに追加します。この TextBox コントロールで ProductName 列から情報を表示します。以下のプロパティを設定します。

** Text - {Binding Path = Row.Data}
** Foreground - White

*XAML の場合:*

----
<TextBlock Text="{Binding Path=Row.Data}" Foreground="White"/>
----

[start=6]
. アプリケーションを保存して実行します。

ifdef::sl,wpf[]
image::images/xamGrid_Customize_GroupBy_Deferred_Scrolling_Template_01.png[xamGrid_Customize_GroupBy_Deferred_Scrolling_Template_01]
endif::sl,wpf[]

ifdef::win-rt[]
image::images/RT_xamGrid_Customize_GroupBy_Deferred_Scrolling_Template_01.png[xamGrid_Customize_GroupBy_Deferred_Scrolling_Template_01]
endif::win-rt[]

== 関連トピック

link:xamgrid-deferred-scrolling.html[遅延スクロール]

link:xamgrid-groupby.html[GroupBy]